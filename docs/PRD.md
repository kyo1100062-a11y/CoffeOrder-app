# 커피 주문 앱
## 1. 프로젝트 개요
### 1.1. 프로젝트명
커피 주문 앱
### 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 준문을 관리할 수 있는 간단한 풀스택 웨 앱
### 1. 3 개발범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제 할 수 있는 기능
## 2. 기술 스택
- 프런트엔드: HTML, CSS, 리액트, 자바스크립트
- 백엔드: Node.js, Express
- 데이터베이스: PostgreSQL
## 3. 기본사항
- 프런트엔드와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

## 4. 주문하기 화면 상세 명세

### 4.1. 화면 구조
주문하기 화면은 다음과 같은 영역으로 구성됩니다:
- **헤더 영역**: 상단 고정 영역
- **메뉴 목록 영역**: 메뉴 카드들이 표시되는 영역
- **장바구니 영역**: 선택한 메뉴가 표시되는 영역

### 4.2. 헤더 영역
#### 4.2.1. 구성 요소
- **로고/브랜드명**: 좌측 상단에 "Hong's Cafe" 표시
- **주문하기 버튼**: 우측 상단에 "주문하기" 버튼 (현재 화면이므로 활성화 상태)
- **관리자 버튼**: 우측 상단에 "관리자" 버튼 (관리자 화면으로 이동)

#### 4.2.2. 기능 요구사항
- 관리자 버튼 클릭 시 관리자 화면으로 이동
- 주문하기 버튼은 현재 화면 표시용 (클릭 시 동작 없음 또는 현재 화면 유지)

### 4.3. 메뉴 목록 영역
#### 4.3.1. 메뉴 카드 구조
각 메뉴는 카드 형태로 표시되며, 다음 정보를 포함합니다:
- **메뉴 이미지**: 메뉴 사진 (이미지가 없을 경우 플레이스홀더 표시)
- **메뉴명**: 메뉴 이름 (예: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼")
- **가격**: 기본 가격 (예: "4,000원", "5,000원")
- **설명**: 메뉴에 대한 간단한 설명 (예: "간단한 설명...")
- **옵션 체크박스**:
  - "샷 추가 (+500원)": 체크 시 추가 가격 500원
  - "시럽 추가 (+0원)": 체크 시 추가 가격 0원 (무료 옵션)
- **담기 버튼**: 장바구니에 추가하는 버튼

#### 4.3.2. 기능 요구사항
- 메뉴 목록은 백엔드 API를 통해 조회하여 동적으로 표시
- 각 메뉴 카드의 옵션은 독립적으로 선택 가능
- "담기" 버튼 클릭 시:
  - 선택한 옵션과 함께 메뉴를 장바구니에 추가
  - 동일한 메뉴와 옵션 조합이 이미 장바구니에 있으면 수량 증가
  - 옵션이 다른 경우 별도 항목으로 추가
  - 담기 후 옵션 체크박스는 초기화 (선택 해제)

#### 4.3.3. 레이아웃
- 메뉴 카드들은 가로로 나열 (반응형: 화면 크기에 따라 열 개수 조정)
- 카드 간 적절한 간격 유지

### 4.4. 장바구니 영역
#### 4.4.1. 구성 요소
- **장바구니 제목**: "장바구니" 표시
- **장바구니 아이템 목록**: 선택한 메뉴들이 표시됨
  - 각 아이템 표시 형식: "메뉴명 (옵션명) X 수량" + 가격
  - 예시: "아메리카노(ICE) (샷 추가) X 1" - "4,500원"
  - 예시: "아메리카노(HOT) X 2" - "8,000원"
- **총 금액**: "총 금액 XX,XXX원" 형식으로 표시
- **주문하기 버튼**: 장바구니 하단에 위치

#### 4.4.2. 기능 요구사항
- 장바구니에 아이템이 없을 경우 빈 상태 표시 또는 안내 메시지
- 각 장바구니 아이템의 가격 계산:
  - 기본 가격 + 선택한 옵션의 추가 가격
  - 수량이 2개 이상인 경우: (기본 가격 + 옵션 가격) × 수량
- 총 금액은 모든 장바구니 아이템의 가격 합계
- 총 금액은 천 단위 구분 기호(쉼표)를 사용하여 표시
- "주문하기" 버튼 클릭 시:
  - 장바구니의 모든 아이템을 주문으로 전송
  - 주문 성공 시 장바구니 비우기
  - 주문 완료 메시지 표시 (선택 사항)

#### 4.4.3. 장바구니 아이템 관리 (추가 기능)
- 각 아이템의 수량 조절 기능 (증가/감소 버튼)
- 각 아이템 삭제 기능 (X 버튼 또는 삭제 버튼)
- 수량 변경 시 총 금액 자동 재계산

### 4.5. 사용자 플로우
1. 사용자가 주문하기 화면에 진입
2. 메뉴 목록에서 원하는 메뉴 선택
3. 필요 시 옵션 선택 (샷 추가, 시럽 추가)
4. "담기" 버튼 클릭하여 장바구니에 추가
5. 장바구니에서 선택한 메뉴 확인 및 수량 조절 (선택 사항)
6. 총 금액 확인
7. "주문하기" 버튼 클릭하여 주문 완료

### 4.6. 데이터 구조
#### 4.6.1. 메뉴 데이터
```javascript
{
  id: number,
  name: string,
  price: number,
  description: string,
  imageUrl: string | null,
  options: [
    {
      id: number,
      name: string,
      price: number
    }
  ]
}
```

#### 4.6.2. 장바구니 아이템 데이터
```javascript
{
  menuId: number,
  menuName: string,
  basePrice: number,
  selectedOptions: [
    {
      optionId: number,
      optionName: string,
      optionPrice: number
    }
  ],
  quantity: number,
  totalPrice: number
}
```

### 4.7. API 요구사항
- `GET /api/menus`: 메뉴 목록 조회
- `POST /api/orders`: 주문 생성 (장바구니 데이터 전송)

### 4.8. UI/UX 요구사항
- 반응형 디자인: 다양한 화면 크기 지원
- 직관적인 인터페이스: 사용자가 쉽게 메뉴를 선택하고 주문할 수 있도록
- 명확한 가격 표시: 각 메뉴와 옵션의 가격이 명확히 표시
- 실시간 총액 계산: 장바구니 변경 시 즉시 총액 업데이트

## 5. 관리자 화면 상세 명세

### 5.1. 화면 구조
관리자 화면은 다음과 같은 영역으로 구성됩니다:
- **헤더 영역**: 상단 고정 영역
- **관리자 대시보드 영역**: 주문 통계 요약
- **재고 현황 영역**: 메뉴별 재고 수량 관리
- **주문 현황 영역**: 주문 목록 및 상태 관리

### 5.2. 헤더 영역
#### 5.2.1. 구성 요소
- **로고/브랜드명**: 좌측 상단에 "Hong's Cafe" 표시
- **주문하기 버튼**: 우측 상단에 "주문하기" 버튼 (주문하기 화면으로 이동)
- **관리자 버튼**: 우측 상단에 "관리자" 버튼 (현재 화면이므로 활성화 상태)

#### 5.2.2. 기능 요구사항
- 주문하기 버튼 클릭 시 주문하기 화면으로 이동
- 관리자 버튼은 현재 화면 표시용 (클릭 시 동작 없음 또는 현재 화면 유지)

### 5.3. 관리자 대시보드 영역
#### 5.3.1. 구성 요소
주문 상태별 통계를 카드 형태로 표시:
- **총 주문**: 전체 주문 건수
- **주문 접수**: "주문 접수" 상태인 주문 건수
- **제조 중**: "제조 중" 상태인 주문 건수
- **제조 완료**: "제조 완료" 상태인 주문 건수

#### 5.3.2. 기능 요구사항
- 각 통계는 실시간으로 업데이트
- 주문 상태가 변경되면 해당 통계 자동 갱신
- 통계는 백엔드 API를 통해 조회

#### 5.3.3. 레이아웃
- 통계 카드들은 가로로 나열
- 각 카드에 숫자와 라벨이 명확히 표시

### 5.4. 재고 현황 영역
#### 5.4.1. 구성 요소
각 메뉴별 재고 카드가 표시되며, 다음 정보를 포함합니다:
- **메뉴명**: 메뉴 이름 (예: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼")
- **재고 수량**: 현재 재고 수량 (예: "10개")
- **재고 조절 버튼**:
  - **증가 버튼 (+)**: 재고 수량 증가
  - **감소 버튼 (-)**: 재고 수량 감소

#### 5.4.2. 기능 요구사항
- 재고 수량은 백엔드 API를 통해 조회하여 표시
- "+" 버튼 클릭 시:
  - 해당 메뉴의 재고 수량 1 증가
  - 백엔드 API를 통해 재고 수량 업데이트
  - 화면에 즉시 반영
- "-" 버튼 클릭 시:
  - 해당 메뉴의 재고 수량 1 감소
  - 재고가 0보다 작아지지 않도록 제한 (0 이하로 감소 불가)
  - 백엔드 API를 통해 재고 수량 업데이트
  - 화면에 즉시 반영
- 재고 수량은 천 단위 구분 기호(쉼표)를 사용하여 표시 (예: "1,000개")

#### 5.4.3. 레이아웃
- 재고 카드들은 가로로 나열 (반응형: 화면 크기에 따라 열 개수 조정)
- 각 카드에 메뉴명, 재고 수량, 조절 버튼이 명확히 표시

### 5.5. 주문 현황 영역
#### 5.5.1. 구성 요소
주문 목록이 표시되며, 각 주문 항목은 다음 정보를 포함합니다:
- **주문 날짜/시간**: 주문이 접수된 날짜와 시간 (예: "7월 31일 13:00")
- **주문 메뉴 정보**: 
  - 메뉴명과 옵션 (예: "아메리카노(ICE)")
  - 수량 (예: "x 1")
- **주문 금액**: 해당 주문의 총 금액 (예: "4,000원")
- **상태 버튼**: 주문 상태에 따른 버튼
  - "주문 접수": 주문이 접수된 상태
  - "제조 중": 주문이 제조 중인 상태
  - "제조 완료": 주문이 제조 완료된 상태

#### 5.5.2. 기능 요구사항
- 주문 목록은 최신 주문이 위에 오도록 정렬 (최신순)
- 주문 목록은 백엔드 API를 통해 조회하여 동적으로 표시
- 주문이 없을 경우 빈 상태 표시 또는 안내 메시지
- 상태 버튼 클릭 시:
  - 주문 상태가 다음 단계로 변경
  - 상태 변경 흐름: "주문 접수" → "제조 중" → "제조 완료"
  - "제조 완료" 상태에서는 더 이상 상태 변경 불가 (또는 버튼 비활성화)
  - 백엔드 API를 통해 주문 상태 업데이트
  - 화면에 즉시 반영
  - 대시보드 통계 자동 업데이트
- 주문 금액은 천 단위 구분 기호(쉼표)를 사용하여 표시
- 각 주문 항목에 여러 메뉴가 포함된 경우 모두 표시 (또는 요약 표시)

#### 5.5.3. 레이아웃
- 주문 목록은 세로로 나열
- 각 주문 항목은 카드 형태 또는 리스트 형태로 표시
- 주문 정보와 상태 버튼이 명확히 구분되어 표시

### 5.6. 사용자 플로우
1. 관리자가 관리자 화면에 진입
2. 대시보드에서 전체 주문 현황 파악
3. 재고 현황에서 필요 시 재고 수량 조절
4. 주문 현황에서 주문 목록 확인
5. 각 주문의 상태 버튼을 클릭하여 주문 상태 업데이트
6. 주문 상태 변경에 따라 대시보드 통계 자동 업데이트

### 5.7. 데이터 구조
#### 5.7.1. 대시보드 통계 데이터
```javascript
{
  totalOrders: number,
  receivedOrders: number,
  inProductionOrders: number,
  completedOrders: number
}
```

#### 5.7.2. 재고 데이터
```javascript
{
  menuId: number,
  menuName: string,
  stock: number
}
```

#### 5.7.3. 주문 데이터
```javascript
{
  id: number,
  orderDate: string, // ISO 8601 형식 또는 타임스탬프
  items: [
    {
      menuId: number,
      menuName: string,
      options: [
        {
          optionId: number,
          optionName: string
        }
      ],
      quantity: number,
      price: number
    }
  ],
  totalPrice: number,
  status: "주문 접수" | "제조 중" | "제조 완료"
}
```

### 5.8. API 요구사항
- `GET /api/admin/dashboard`: 대시보드 통계 조회
- `GET /api/admin/stock`: 재고 현황 조회
- `PUT /api/admin/stock/:menuId`: 재고 수량 업데이트
- `GET /api/admin/orders`: 주문 목록 조회
- `PUT /api/admin/orders/:orderId/status`: 주문 상태 업데이트

### 5.9. UI/UX 요구사항
- 반응형 디자인: 다양한 화면 크기 지원
- 실시간 업데이트: 주문 상태 변경 시 즉시 화면 반영
- 명확한 상태 표시: 각 주문의 현재 상태가 명확히 표시
- 직관적인 조작: 재고 조절과 주문 상태 변경이 쉽게 가능하도록
- 시각적 피드백: 버튼 클릭 시 즉각적인 시각적 피드백 제공
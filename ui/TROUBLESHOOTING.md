# í”„ëŸ°íŠ¸ì—”ë“œ ë°°í¬ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

## "ë©”ë‰´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" ì˜¤ë¥˜ í•´ê²°

### 1ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ í™•ì¸

Render ëŒ€ì‹œë³´ë“œì—ì„œ í”„ëŸ°íŠ¸ì—”ë“œ ì„œë¹„ìŠ¤ì˜ **Environment Variables** í™•ì¸:

1. `VITE_API_BASE_URL` í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
2. ê°’ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸:
   - âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: `https://coffee-order-api.onrender.com`
   - âŒ ì˜ëª»ëœ ì˜ˆ: `http://coffee-order-api.onrender.com` (http ì‚¬ìš©)
   - âŒ ì˜ëª»ëœ ì˜ˆ: `https://coffee-order-api.onrender.com/` (ëì— /)
   - âŒ ì˜ëª»ëœ ì˜ˆ: `localhost:3001` (í”„ë¡œí† ì½œ ì—†ìŒ)

### 2ë‹¨ê³„: ë°±ì—”ë“œ ì„œë²„ í™•ì¸

1. ë°±ì—”ë“œ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
   - Render ëŒ€ì‹œë³´ë“œì—ì„œ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
   - **Logs** íƒ­ì—ì„œ "ì„œë²„ê°€ í¬íŠ¸ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤" ë©”ì‹œì§€ í™•ì¸

2. ë°±ì—”ë“œ URL ì§ì ‘ ì ‘ì† í…ŒìŠ¤íŠ¸
   - ë¸Œë¼ìš°ì €ì—ì„œ `https://your-backend-url.onrender.com/api/menus` ì ‘ì†
   - JSON ë°ì´í„°ê°€ í‘œì‹œë˜ë©´ ì •ìƒ
   - ì˜¤ë¥˜ê°€ í‘œì‹œë˜ë©´ ë°±ì—”ë“œ ë¬¸ì œ

### 3ë‹¨ê³„: ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ í™•ì¸

1. í”„ëŸ°íŠ¸ì—”ë“œ í˜ì´ì§€ì—ì„œ **F12** ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ ì—´ê¸°
2. **Console** íƒ­ í™•ì¸:
   - `ğŸ”§ API Base URL: ...` ë©”ì‹œì§€ í™•ì¸
   - `ğŸ“¡ ë©”ë‰´ API í˜¸ì¶œ: ...` ë©”ì‹œì§€ í™•ì¸
   - ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸

3. **Network** íƒ­ í™•ì¸:
   - `/api/menus` ìš”ì²­ì´ ìˆëŠ”ì§€ í™•ì¸
   - ìš”ì²­ ìƒíƒœ ì½”ë“œ í™•ì¸ (200 = ì„±ê³µ, 404/500 = ì‹¤íŒ¨)
   - CORS ì˜¤ë¥˜ê°€ ìˆëŠ”ì§€ í™•ì¸

### 4ë‹¨ê³„: CORS í™•ì¸

ë°±ì—”ë“œì˜ CORS ì„¤ì •ì´ í”„ëŸ°íŠ¸ì—”ë“œ ë„ë©”ì¸ì„ í—ˆìš©í•˜ëŠ”ì§€ í™•ì¸:

`server/src/index.js`:
```javascript
const corsOptions = {
  origin: process.env.NODE_ENV === 'production' 
    ? true  // ëª¨ë“  origin í—ˆìš©
    : 'http://localhost:5173',
  credentials: true
};
```

### 5ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì¬ì„¤ì •

Renderì—ì„œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ë‹¤ì‹œ ì„¤ì •:

1. í”„ëŸ°íŠ¸ì—”ë“œ ì„œë¹„ìŠ¤ â†’ **Environment** íƒ­
2. `VITE_API_BASE_URL` ì‚­ì œ í›„ ë‹¤ì‹œ ì¶”ê°€
3. ê°’ í™•ì¸: `https://your-backend-url.onrender.com`
4. **Save Changes** í´ë¦­
5. ìë™ ì¬ë°°í¬ ëŒ€ê¸°

---

## ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°ì±…

### ë¬¸ì œ 1: í™˜ê²½ ë³€ìˆ˜ê°€ ì ìš©ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: API URLì´ ì—¬ì „íˆ `localhost:3001`ë¡œ í‘œì‹œë¨

**í•´ê²°ì±…**:
1. Renderì—ì„œ í™˜ê²½ ë³€ìˆ˜ ì‚­ì œ í›„ ë‹¤ì‹œ ì¶”ê°€
2. í”„ëŸ°íŠ¸ì—”ë“œ ì¬ë°°í¬ (ìë™ ë˜ëŠ” ìˆ˜ë™)
3. ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ (Ctrl + Shift + Delete)

### ë¬¸ì œ 2: CORS ì˜¤ë¥˜

**ì¦ìƒ**: ë¸Œë¼ìš°ì € ì½˜ì†”ì— "CORS policy" ì˜¤ë¥˜

**í•´ê²°ì±…**:
1. ë°±ì—”ë“œì˜ CORS ì„¤ì • í™•ì¸
2. í”„ëŸ°íŠ¸ì—”ë“œ URLì´ í—ˆìš© ëª©ë¡ì— ìˆëŠ”ì§€ í™•ì¸
3. ë°±ì—”ë“œ ì¬ë°°í¬

### ë¬¸ì œ 3: ë°±ì—”ë“œê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: Network íƒ­ì—ì„œ ìš”ì²­ì´ ì‹¤íŒ¨í•˜ê±°ë‚˜ íƒ€ì„ì•„ì›ƒ

**í•´ê²°ì±…**:
1. ë°±ì—”ë“œ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
2. ë°±ì—”ë“œ URLì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
3. ë°±ì—”ë“œ ë¡œê·¸ì—ì„œ ì˜¤ë¥˜ í™•ì¸

### ë¬¸ì œ 4: 404 ì˜¤ë¥˜

**ì¦ìƒ**: API ìš”ì²­ì´ 404ë¥¼ ë°˜í™˜

**í•´ê²°ì±…**:
1. API ê²½ë¡œê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸ (`/api/menus`)
2. ë°±ì—”ë“œ ë¼ìš°íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
3. ë°±ì—”ë“œ ì„œë¹„ìŠ¤ì˜ Root Directoryê°€ `server`ì¸ì§€ í™•ì¸

---

## ë¹ ë¥¸ í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `VITE_API_BASE_URL` í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆìŒ
- [ ] í™˜ê²½ ë³€ìˆ˜ ê°’ì´ `https://`ë¡œ ì‹œì‘í•¨
- [ ] í™˜ê²½ ë³€ìˆ˜ ê°’ ëì— `/`ê°€ ì—†ìŒ
- [ ] ë°±ì—”ë“œ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì„
- [ ] ë°±ì—”ë“œ URLì— ì§ì ‘ ì ‘ì†í•˜ë©´ JSONì´ í‘œì‹œë¨
- [ ] ë¸Œë¼ìš°ì € ì½˜ì†”ì— API URLì´ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë¨
- [ ] CORS ì˜¤ë¥˜ê°€ ì—†ìŒ

---

## ë””ë²„ê¹… ëª…ë ¹ì–´

ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰:

```javascript
// í˜„ì¬ API URL í™•ì¸
console.log('API URL:', import.meta.env.VITE_API_BASE_URL);

// API ì§ì ‘ í…ŒìŠ¤íŠ¸
fetch('https://your-backend-url.onrender.com/api/menus')
  .then(r => r.json())
  .then(data => console.log('âœ… API ì‘ë‹µ:', data))
  .catch(err => console.error('âŒ API ì˜¤ë¥˜:', err));
```

